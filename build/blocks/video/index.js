(()=>{"use strict";var e,t={749:()=>{const e=window.wp.blocks,t=window.React,o=window.wp.i18n,s=window.wp.blockEditor,l=window.wp.components,n=({data:e,setAttributes:o})=>{const[s,l]=(0,t.useState)(""),n=(r=e.video_url)?r.includes("youtube.com")||r.includes("youtu.be")?"youtube":r.includes("vimeo.com")?"vimeo":r.includes("facebook.com")?"facebook":null:null;var r;return(0,t.useEffect)((()=>{if("youtube"===n){const t=e.video_url.split("v=")[1]?.split("&")[0]||e.video_url.split("youtu.be/")[1]?.split("?")[0],o=`https://i.ytimg.com/vi/${t}/maxresdefault.jpg`,s=`https://i.ytimg.com/vi/${t}/hqdefault.jpg`;fetch(o).then((e=>{e.ok?l(o):l(s)})).catch((()=>{l(s)}))}else l(((e,t)=>"youtube"===t?`https://i.ytimg.com/vi/${e.split("v=")[1]?.split("&")[0]||e.split("youtu.be/")[1]?.split("?")[0]}/maxresdefault.jpg`:"vimeo"===t?`https://vumbnail.com/${e.split("vimeo.com/")[1]}_large.jpg`:"")(e.video_url,n));o({video_provider:n})}),[e.video_url,n]),(0,t.createElement)("div",{class:"vidpress"},s&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("img",{class:"vidpress__thumbnail",src:s,alt:"Video Thumbnail"}),(0,t.createElement)("div",{class:"vidpress__controls"},(0,t.createElement)("div",{class:"vidpress__controls-group"},(0,t.createElement)("button",{class:"vidpress__controls-btn"},(0,t.createElement)("span",{class:"dashicons dashicons-controls-back"})),(0,t.createElement)("button",{class:"vidpress__controls-btn vidpress__controls-btn--play"},(0,t.createElement)("span",{class:"dashicons dashicons-controls-play"})),(0,t.createElement)("button",{class:"vidpress__controls-btn"},(0,t.createElement)("span",{class:"dashicons dashicons-controls-forward"}))),(0,t.createElement)("div",{class:"vidpress__progress"},(0,t.createElement)("input",{type:"range",class:"vidpress__progress-bar",value:"0",min:"0",max:"100",step:"0.1"})),(0,t.createElement)("div",{class:"vidpress__volume"},(0,t.createElement)("button",{class:"vidpress__controls-btn",id:"muteButton"},(0,t.createElement)("span",{class:"dashicons dashicons-controls-volumeon"})),(0,t.createElement)("input",{type:"range",class:"vidpress__volume-slider",value:"80",min:"0",max:"100",step:"1"})))),"youtube"!=n&&"vimeo"!=n&&(0,t.createElement)("div",{class:"vidpress__error"},"Unsupported video URL"))},r=({label:e,options:o,selected:s,updateOption:n,name:r})=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.__experimentalToggleGroupControl,{label:e,value:s,isBlock:!0,onChange:e=>{n(r?{[r]:e}:e)}},Object.entries(o).map((([e,o])=>(0,t.createElement)(l.__experimentalToggleGroupControlOption,{value:e,label:o,key:e})))));(0,e.registerBlockType)("vp/video",{edit:function({attributes:e,setAttributes:a}){const{video_provider:i,video_url:c,autoplay:p,loop:u,controls:d,ratio:v}=e,m=(0,s.useBlockProps)({className:"vidpress"});return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(s.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,o.__)("VidPress Video","vp"),initialOpen:!0},(0,t.createElement)(l.TextControl,{label:(0,o.__)("Enter Video URL","vp"),value:c||"",placeholder:(0,o.__)("Paste video URL","vp"),onChange:e=>a({video_url:e})})),(0,t.createElement)(l.PanelBody,{title:(0,o.__)("Video Settings","vp"),initialOpen:!0},(0,t.createElement)(r,{label:(0,o.__)("Aspect Ratio","vp"),options:{"ratio-16-9":"16:9","ratio-4-3":"4:3","ratio-9-16":"9:16","ratio-3-4":"3:4","ratio-1-1":"1:1"},selected:v,name:"ratio",updateOption:a}),(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Controls","vp"),checked:d,onChange:e=>a({controls:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Autoplay Video","vp"),checked:p,onChange:e=>a({autoplay:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Loop Video","vp"),checked:u,onChange:e=>a({loop:e})}))),(0,t.createElement)("section",{...m},(0,t.createElement)("div",{className:"w-video-block"},(0,t.createElement)(n,{data:e,setAttributes:a}))))},save:function(e){const{attributes:{countdown_display:o,countdown_order:l,starting_number:n}}=e,r=s.useBlockProps.save(),a=s.useInnerBlocksProps.save(r);return o&&"desc"==l&&(a.className+=" reverse"),(0,t.createElement)(t.Fragment,null,(0,t.createElement)("section",{...a,"data-starting-number":n}))}})}},o={};function s(e){var l=o[e];if(void 0!==l)return l.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,o,l,n)=>{if(!o){var r=1/0;for(p=0;p<e.length;p++){for(var[o,l,n]=e[p],a=!0,i=0;i<o.length;i++)(!1&n||r>=n)&&Object.keys(s.O).every((e=>s.O[e](o[i])))?o.splice(i--,1):(a=!1,n<r&&(r=n));if(a){e.splice(p--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[o,l,n]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={564:0,268:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var l,n,[r,a,i]=o,c=0;if(r.some((t=>0!==e[t]))){for(l in a)s.o(a,l)&&(s.m[l]=a[l]);if(i)var p=i(s)}for(t&&t(o);c<r.length;c++)n=r[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(p)},o=globalThis.webpackChunkvp_blocks=globalThis.webpackChunkvp_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=s.O(void 0,[268],(()=>s(749)));l=s.O(l)})();